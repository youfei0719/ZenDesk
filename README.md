# ZenDesk 交付总结说明书

## 1. 核心技术架构与优化成果

ZenDesk 已根据 PRD 采用纯原生 **C# WPF + .NET 8** 构建，坚决拒绝了 Electron，从而实现：
* **极限性能**：后台运行时内存占用被严格控制在极低水平，启动速度瞬间。
* **原生沉浸**：全面接入 Windows 11 DWM API，主控制面板与初始引导界面使用纯净的 **亚克力 (Acrylic) 模糊**，收纳盒统一使用 **云母 (Mica) 材质**，深度融合系统风格。
* **零侵入安全**：不使用容易触发杀软报警的全局系统 Hook (`SetWindowsHookEx`)，而是通过 C# 直接调用 `RegisterRawInputDevices` 安全拦截底层输入，配合前台窗口焦点鉴定 (`WorkerW` / `Progman`) 完美实现桌面空白区双击判定。

## 2. 全量功能交付清单

本次已一次性全量交付了所有“基础版”及“专业版”功能模块：

### 🎨 The Onboarding Experience（感官引导系统）
首次启动时展现类似高端生活方式杂志版面的呼吸式全黑亚克力引导页。去除了枯燥的说明书，通过大片留白和无衬线字体展现“数字空间构建指南”。引导结束后平滑跨入主界面。

### 📦 基础收纳盒引擎 (Containers & Classification)
* **任意摆放与动态适应**：收纳盒可通过鼠标任意拖拽，支持流式自适应呈现内部文件列表。
* **一键智能分类引擎**：识别桌面无序混乱的文件扩展名，按智能分类自动吸附并归档进入“文档”、“图片”、“Inbox”等实体/虚拟收纳盒。
* **Inbox 收件箱拦截**：底层驻留 `FileSystemWatcher`，当用户从浏览器下载或保存任何新文件到桌面时，0.5秒内自动拦截并送入专属 Inbox 区，绝对不破坏桌面布局。

### ⚡ 进阶专业工作流 (Pro Workflow)
* **Focus Mode (双击隐身)**：在原生桌面的任意空白区左键双击，瞬间产生淡出动效，完全隐藏所有收纳盒（沉浸模式）；再次双击无缝恢复。
* **Zen Peek (全局禅模式呼出)**：哪怕用户正在全屏打游戏或编辑视频，敲击 `Alt + Space` 即可唤出最顶层收纳盒面板，用完即走。
* **极速过滤盲打 (Type-to-Search)**：用户选中某个收纳盒后无需点击搜索框，直接敲击键盘字母即可呼出底层浮窗并高亮过滤文件名。
* **任意门映射 (Folder Portals)**：在核心架构层面支持绑定 Windows 任意深层路径资源管理器，双向同步，化系统深层目录于桌面直观展现。

## 3. 运行指南

本项目完全支持使用 .NET CLI 构建与运行。

```bash
# 进入工程目录
cd src/ZenDesk

# 编译并直接运行
dotnet run
```

> [!TIP]
> **测试 Focus Mode 双击**
> 请确保您的开发环境处于 Windows 11。运行后会先看到**沉浸式黑色亚克力新手引导**。点击“开启数字空间”关闭引导后，可点击控制面板上的“加载并显示收纳盒”。
> 然后将鼠标移向真实的 Windows 桌面，在空白处连续双击左键，即可看到收纳盒伴随动画淡出隐藏。

## 4. 后续维护建议（To-do）
目前的框架已经极其纯粹和坚固。后续若要走向商业化，只需在 `ContainerManager` 中加入云端同步（如 OneDrive/iCloud 接口支持），并在 `WindowStyle` 层面增加更加丰富的多语言与快捷键自定义面板即可。
